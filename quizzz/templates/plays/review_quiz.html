{% extends 'base.html' %}

{% block header %}{% block title %}Take Quiz{% endblock %}{% endblock %}

{% block content %}
  <div class="quiz-form">
    <div class="quiz-form__item">
      <div class="quiz-form__header">
        "{{ (quiz and quiz.topic) or '' }}"
      </div>
    </div>

    {% for qnum, (answer, question) in enumerate(zip(play.answers, quiz.questions), 1) %}
      <div class='quiz-form__item quiz-form__item_outlined
          quiz-form__item_{% if answer.option.is_correct %}correct{% else %}wrong{% endif %}'>
        <div class="quiz-form__row">
          <div class='quiz-form__helper-text'>
            Question {{ qnum }}
          </div>
        </div>

        <div class="quiz-form__row">
          <div class='quiz-form__label'>
            {{ question.text }}
          </div>
        </div>

        <div class="quiz-form__row">
          <table>
            {% for optnum, option in enumerate(question.options) %}
              {% if option.is_correct %}
                <tr class="correct">
              {% elif (answer.option.id == option.id) %}
                <tr class="wrong">
              {% else %}
                <tr>
              {% endif %}
                <td class="pr_sm">
                  {% if option.is_correct and (answer.option.id == option.id) %}
                    [&#10003;]
                  {% elif (answer.option.id == option.id) %}
                    [X]
                  {% endif %}
                </td>
                <td>{{ option.text }}</td>
              </tr>
            {% endfor %}
          </table>
        </div>

        <div class="quiz-form__row">
          {{ question.comment or "" }}
        </div>

      </div>
    {% endfor %}
  </div>
{% endblock %}
